{"componentChunkName":"component---src-templates-index-js","path":"/design-pattern/circuit-breaker","result":{"data":{"site":{"meta":{"title":"Cassunde","description":"Cassunde profile and Blog","url":"https://cassunde.github.io","author":"cassunde","twitter":"@MattheusCassund","adsense":""}},"post":{"id":"50260822-380e-5905-b645-dfe866f3db33","html":"<h2>Tolerância a falhas</h2>\n<p>Esse tema e essencial para sistemas distribuios, pois serviços falharam, o seu ou do seu parceiro e por isso seu serviço deve está preparado para tal.</p>\n<blockquote>\n<p>Um microserviço pronto para produção é tolerante a falhas e preparado para catástrofes. </p>\n</blockquote>\n<h2>Circuit Breaker</h2>\n<blockquote>\n<p>Esse e um Design Pattern que ajudará seu serviço a lidar com a indisponibilidade ou alta latência dos seus serviços parceiros.</p>\n</blockquote>\n<p>O Padrão e bem simples, vem com o intuito de proteger o sistema contra falhas, ele deve monitorar e quando essas ocorrerem durante x tempo ou x vezes alguma ação deve ser executada.</p>\n<!--more-->\n<p>Imagine que um serviço que seu projeto usa fique fora do ar, se sem esse serviço seu projeto também parará então existe uma grande possibilidade de que esse serviço deva está dentro do seu projeto, caso não, temos que achar uma maneira de vivermos mesmo que momentaneamente sem esse serviço parceiro.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; margin-bottom: 1.0725rem; max-width: 750px;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 77.33887733887734%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsSAAALEgHS3X78AAABiUlEQVQoz4WS626CQBCFef9X6o829hU0VLSRUhWDgLALC8u1n6yuJho7CWRm55ydMzPrnE4nrbuiKJUqx3EchoF/3/dlqaqqqesGZxh6mxJCVCSaRmvtSJkL4SuVKFXfkYco+pXyh1Qcb6ezSyqOD/P523o9Wyw+IGfL5exw+Na6tQgsCL4879N134PANScmledZmm6FCLMsdNI0bVtEVmV5k911HWq7bmias0MX49W0bpSqpCwp5oDOsgxmN1mSJFJK0G3bci8pq8UaMKUUjsMnJyNmEvv9/ng8VpNBLopifDDIZC9kaMSPIIozWyozW1MAgYiCmef5hWw026lYnZCnRWqgQRAgKo5jQnrB+adyXde73Y6yACD7vs8tkJFg2rn0zBF6uqtRkxAyaIQY/RC4yJyb1ZzJURQB4r9arTabDdVw0AbaTPXVtK1su0/jWNArspiMmFKUZVWoIsSho/tn97wyXZkEj8SswZw/3TPgG5lu6TAMQ8/zmCqO67osQ032SKYpJofzB4QLZPkssi1dAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Diagrama Circuit Breaker\" title=\"Diagrama Circuit Breaker\" src=\"/static/1efb97254c11b0101db80d550eefa29b/1d69c/circuit-breaker-digram.png\" srcset=\"/static/1efb97254c11b0101db80d550eefa29b/4dcb9/circuit-breaker-digram.png 188w,\n/static/1efb97254c11b0101db80d550eefa29b/5ff7e/circuit-breaker-digram.png 375w,\n/static/1efb97254c11b0101db80d550eefa29b/1d69c/circuit-breaker-digram.png 750w,\n/static/1efb97254c11b0101db80d550eefa29b/fbf08/circuit-breaker-digram.png 962w\" sizes=\"(max-width: 750px) 100vw, 750px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\n<h2>Exemplo</h2>\n<p>Nesse exemplo será implementado a mesma regra usando 2 framworks java diferentes:</p>\n<ul>\n<li>Spring-Boot</li>\n<li>Quarkus</li>\n</ul>\n<h3>Regra</h3>\n<p>Será criado um serviço que disponibiliza CEP apartir de uma requisição passando um número, vamos chamar essa aplicação de <code class=\"language-text\">nosso-cep</code> essa aplicação usará um outra onde efetivamente iremos consultar o CEP requisitado, essa aplicação se chamará <code class=\"language-text\">postmon</code>.</p>\n<p>Sempre que a aplicação <code class=\"language-text\">nosso-cep</code> fizer uma requisição a <code class=\"language-text\">postmon</code> e for com sucesso, devemos salvar essa resposta no banco de dados para quando a mesma um dia falhar faremos uma consulta no nosso banco de dados e continuar entregando a informação para o nosso cliente.</p>\n<p><em>Diagrama da solução.</em></p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; margin-bottom: 1.0725rem; max-width: 651px;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 73.88632872503841%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3rBQf//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEAAQUCX//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABgQAAMBAQAAAAAAAAAAAAAAAAABEDFB/9oACAEBAAE/IeCmoU//2gAMAwEAAgADAAAAELAP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhABAQEBAAMAAAAAAAAAAAAAAQARITFBYf/aAAgBAQABPxBF6IYYRvufr20GB4jUv//Z&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Diagrama Circuit Breaker\" title=\"Diagrama Circuit Breaker\" src=\"/static/6198ce2bded64e10e288fdf06e7f6f6b/aeb8d/diagrama-exemplo.jpg\" srcset=\"/static/6198ce2bded64e10e288fdf06e7f6f6b/bc01b/diagrama-exemplo.jpg 188w,\n/static/6198ce2bded64e10e288fdf06e7f6f6b/bf173/diagrama-exemplo.jpg 375w,\n/static/6198ce2bded64e10e288fdf06e7f6f6b/aeb8d/diagrama-exemplo.jpg 651w\" sizes=\"(max-width: 651px) 100vw, 651px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\n<p>No repositório abaixo existe essa implementação.</p>\n<p>Repositório:\n<a href=\"https://github.com/cassunde/spring_boot_quarkus/tree/master/circuit_breaker\">https://github.com/cassunde/spring<em>boot</em>quarkus/tree/master/circuit_breaker</a></p>","frontmatter":{"layout":"post","title":"Design Pattern - Circuit Breaker","path":"/design-pattern/circuit-breaker","category":"Java","tags":["Arquitetura"],"description":"","date":"2020/04/16","image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAFABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAME/8QAFgEBAQEAAAAAAAAAAAAAAAAAAgAB/9oADAMBAAIQAxAAAAGGksuCv//EABkQAAIDAQAAAAAAAAAAAAAAAAACAxETMv/aAAgBAQABBQJeY01LP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABkQAAEFAAAAAAAAAAAAAAAAAAEAEBFBgf/aAAgBAQAGPwLUZot//8QAGBAAAwEBAAAAAAAAAAAAAAAAAAERUSH/2gAIAQEAAT8hbKvNIqTBDltQ/9oADAMBAAIAAwAAABB/z//EABYRAQEBAAAAAAAAAAAAAAAAAAEQEf/aAAgBAwEBPxAcZ//EABYRAAMAAAAAAAAAAAAAAAAAAAEQMf/aAAgBAgEBPxAxf//EABkQAQADAQEAAAAAAAAAAAAAAAEAESExUf/aAAgBAQABPxB1Fg0G1cJJgq6OXrOuafZ//9k=","aspectRatio":4.201666666666667,"src":"/static/a9fd065bc7840907c79164fd3e919ecd/0f3a1/circuit-breaker.jpg","srcSet":"/static/a9fd065bc7840907c79164fd3e919ecd/1ada3/circuit-breaker.jpg 125w,\n/static/a9fd065bc7840907c79164fd3e919ecd/8f7df/circuit-breaker.jpg 250w,\n/static/a9fd065bc7840907c79164fd3e919ecd/0f3a1/circuit-breaker.jpg 500w,\n/static/a9fd065bc7840907c79164fd3e919ecd/f9913/circuit-breaker.jpg 750w,\n/static/a9fd065bc7840907c79164fd3e919ecd/a7715/circuit-breaker.jpg 1000w,\n/static/a9fd065bc7840907c79164fd3e919ecd/495f9/circuit-breaker.jpg 2521w","sizes":"(max-width: 500px) 100vw, 500px"}}}}}},"pageContext":{}}}