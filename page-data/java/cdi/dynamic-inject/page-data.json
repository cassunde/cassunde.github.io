{"componentChunkName":"component---src-templates-index-js","path":"/java/cdi/dynamic-inject","result":{"data":{"site":{"meta":{"title":"Cassunde","description":"Cassunde profile and Blog","url":"https://cassunde.github.io","author":"cassunde","twitter":"@MattheusCassund","adsense":""}},"post":{"id":"e63582e3-aeec-5fef-ad61-303ce57aed56","html":"<h3>INJEÇÃO DINÂMICA</h3>\n<p>Hoje vou falar um pouco sobre injeção de dependência sob demanda.</p>\n<p>E comum encontrarmos <strong>beans</strong> ou <strong>controllers</strong> ou qualquer outra <strong>classe</strong>  com várias injeções de dependências e na maioria das vezes uma boa  parte dessas injeções são usadas em momentos pontuais da rotina.</p>\n<p>Quando a classe que contém esses injects e  instanciada, a CDI vai se virar para criar e disponibilizar todas as  suas dependências, já imaginou se em cada uma das dependências existir  uma lógica no seu construtor? talvez possa resultar em perca de  performance.</p>\n<p>Vamos ver na prática:</p>\n<p>na forma tradicional seria mais ou menos assim:</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@inject</span>\n<span class=\"token keyword\">private</span> <span class=\"token class-name\">Payment</span> payment<span class=\"token punctuation\">;</span></code></pre></div>\n<p>Para implementar a injeção sob demanda e bem simples</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@inject</span>\n<span class=\"token annotation punctuation\">@any</span> <span class=\"token keyword\">private</span> <span class=\"token class-name\">Instance</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Payment</span><span class=\"token punctuation\">></span></span> paymentInstance<span class=\"token punctuation\">;</span> \n<span class=\"token keyword\">private</span> <span class=\"token class-name\">Payment</span> payment<span class=\"token punctuation\">;</span></code></pre></div>\n<p>Se observar estamos usando o objeto <strong>Instance</strong>  para “segurar” as injeções, para que possamos obter a implementação de forma programática.</p>\n<p>No momento em que precisarmos dessa dependência a chamamos da seguinte forma:</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span> condition <span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>payment <span class=\"token operator\">=</span> paymentInstance<span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">SuaImplementacao</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Será apenas nesse momento em que a injeção e efetivamente será executada</p>","frontmatter":{"layout":"post","title":"Injeção Dinâmica com CDI","path":"/java/cdi/dynamic-inject","category":"Java","tags":["Arquitetura","Design"],"description":"","date":"2020/09/09","image":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAtUlEQVQoz42R6wqCQBCFfZEgpNW9OEImIpYE9r83CCHSJ+jyCD32yV1z2SK1HwM738wcZs56kYgwFoqrUebWXObNiX2L6nxgMhBgfgCSZNmkoB0MJTjjPXvXwy4nSvC43ZFnualPCurQTdW+Qntp0ZwblEUJ0W0leYSECM9ri/pUGzbMeHMexipGuk6RbTLz7rcTOOwKHKstlgv/o/8vD/UGOtyTRSDBVsL6N+vh2C+7nH70vABum9Yr1eQg7gAAAABJRU5ErkJggg==","aspectRatio":2.8365384615384617,"src":"/static/2295400a01c38474d8819fa96d4afa0d/46604/banner.png","srcSet":"/static/2295400a01c38474d8819fa96d4afa0d/62d80/banner.png 125w,\n/static/2295400a01c38474d8819fa96d4afa0d/e1953/banner.png 250w,\n/static/2295400a01c38474d8819fa96d4afa0d/46604/banner.png 500w,\n/static/2295400a01c38474d8819fa96d4afa0d/d8815/banner.png 750w,\n/static/2295400a01c38474d8819fa96d4afa0d/31987/banner.png 1000w,\n/static/2295400a01c38474d8819fa96d4afa0d/37092/banner.png 1180w","sizes":"(max-width: 500px) 100vw, 500px"}}}}}},"pageContext":{}}}